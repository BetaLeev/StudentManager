<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.js"></script>
    <script src="https://cdn.staticfile.org/vue/2.2.2/vue.min.js"></script>
    <link rel="stylesheet" type="text/css" href="../../aui-20170109-v2.1/css/aui.css" />
    <title>成为站主</title>
    <style>
    header {
        padding-top: 25px !important;
        border-bottom: 2px solid #4b4b4b;
        opacity: .1
    }

    header * {
        color: #4b4b4b !important;
    }
        body {
            width: 100%;
            height: 100vh;
            padding: 0;
            margin: 0;
            position: relative;
            background-image: url(../../image/other/background.png);
            background-size: 100% 100%;
        }
        /*logo图*/

        .top {
            width: 40px;
            height: 50px;
            position: absolute;
            right: 30px;
            top: 60px;
        }

        .top img {
            width: 30px;
            height: 20px;
        }

        .top span {
            font-size: 10px;
            color: #fed765;
            margin-left:-3px;
        }

        .center {
            width: 75%;
            left: 50%;
            margin-left: -37.5%;
            height: 400px;
            position: absolute;
            top: 23vh;
            background: rgba(241, 239, 238, 0.7);
            border-radius: 20px;
        }

        .center-top {
            width: 100%;
            height: 350px;
            border-bottom: 1px solid #9fa0a0;
        }

        .center-top1 {
            width: 100%;
            clear: both;
        }

        .center-top1 span {
            font-size: .7rem;
            color: #4b4b4b;
            float: left;
            margin-top: 40px;
            margin-left: 15px;
        }

        .center-top1 input {
            width: 130px;
            height: 25px;
            border-radius: 10px;
            border: 1px solid #9fa0a0;
            background-color: #F1EFEE;
            float: right;
            margin-top: 34px;
            margin-right: 15px;
        }

        .threeMemu {
            width: 100%;
            height: 50px;
            font-size: 14px;
            margin-top: 80px;
        }

        .threeMemu1 {
            width: 30%;
            height: 50px;
            float: left;
        }

        .country {
            height: 25px;
            border-radius: 10px;
            text-align: center;
            line-height: 30px;
            background: #fff;
            margin-left: 20px;
            margin-top: 10px;
        }

        .center-top2 {
            width: 100%;
            height: 50px;
            text-align: center;
        }

        .center-top3 {
            text-align: center;
            line-height: 25px;
            font-size: 15px;
            color: #4b4b4b;
        }

        .center-top4 {
            text-align: center;
            line-height: 25px;
            font-size: 40px;
            text-shadow: 0 0 6px yellow;
            color: #fed765;
        }

        .center-top5 {
            text-align: center;
            line-height: 25px;
            font-size: 20px;
            color: #4b4b4b;
        }

        .center-bottom {
            width: 100%;
            margin-top: -30px;
            height: 20%;
            text-align: center;
            line-height: 100px;
        }

        .center-bottom button {
            width: 200px;
            height: 50px;
            font-size: 20px;
            background-color: #fed765;
            border-radius: 10px;
            border: none;
            color: #4b4b4b;
        }

        .bottom {
            width: 80%;
            left: 10%;
            display: flex;
            justify-content: space-between;
            position: absolute;
            bottom: 1vh;
            text-align: center;
        }

        .bottom1 {
            width: 100px;
            float: left;
        }

        .bottom1 img {
            width: 20px;
            height: 20px;
            text-align: center;
            line-height: 100px;
        }

        .bottom1 span {
            font-size: 10px;
            color: #fff;
            text-align: center;
            line-height: 50px;
        }

        input[type=text] {
            padding-left: 15px;
        }
    </style>
</head>

<body>
  <header class="aui-bar aui-bar-nav aui-bar-light">
      <div class="aui-pull-left aui-btn">
          <span class="aui-iconfont aui-icon-left" onclick="closeCurrentWin()"></span>
      </div>
      <div class="aui-title"></div>
      <div class="aui-pull-right ">
          <span id='publish-btn' ></span>
      </div>
  </header>
    <div tapmode class="top" onclick="goNextWin('./publish_home.html')">
        <img src="../../image/college-logo.png" alt="">
        <span>成为站主</span>
    </div>
    <div class="center" id='form'>
        <div class="center-top">
            <div class="center-top1"><span>姓名/Name</span><input type="text" v-model='form.name'></div>
            <div class="center-top1"><span>联系电话/Phone</span><input type="text" v-model='form.tel'></div>
            <div class="center-top1"><span>闲置办公面积/Space</span><input type="text" v-model='form.space'></div>
            <div class="threeMemu">
                <div class="threeMemu1">
                    <select class="country" v-model='form.country'>
                    <option  v-for='item in jsonEd.country' :value="item">{{item}}</option>
                  </select>
                </div>
                <div class="threeMemu1">
                    <select class="country" v-model='form.city'>
                    <option  v-for='item in jsonEd.city' :value="item">{{item}}</option>
                  </select>
                </div>
                <div class="threeMemu1">
                    <select class="country" v-model='form.area'>
                    <option  v-for='item in jsonEd.area' :value="item">{{item}}</option>
                  </select>
                </div>
            </div>

        </div>
        <div class="center-bottom">
            <button type="button" name="button" @click="submitForm()">立即成为站主</button>
        </div>
    </div>
    <div class="bottom">
        <div class="bottom1">
            <img src="../../image/tel.png" alt=""><br>
            <span>预约实物</span>
        </div>
        <div class="bottom1">
            <img src="../../image/image-scan.png" alt=""><br>
            <span>图像采集</span>
        </div>
        <div class="bottom1">
            <img src="../../image/doc.png" alt=""><br>
            <span>信息核对</span>
        </div>
        <div class="bottom1">
            <img src="../../image/all-know.png" alt=""><br>
            <span>线上推广</span>
        </div>
    </div>
    <script src="../../script/api.js" charset="utf-8"></script>
    <script src="../../script/common.js" charset="utf-8"></script>
    <script src="https://cdn.bootcss.com/sweetalert/2.1.2/sweetalert.min.js"></script>

    <script type="text/javascript">
        function telReg(tel) {
            var telReg = /^[1][3,4,5,7,8][0-9]{9}$/;
            if (telReg.test(tel)) {
                return true
            } else {
                return false
            }
        }
        var app = new Vue({
            el: '#form',
            computed: {
                jsonEd() {
                    var country = this.form.country;
                    var city = this.form.city;
                    if (country === '中国') {
                        var cityList = ["北京","天津","上海","重庆",'成都','杭州','武汉','南京','天津','苏州','西安','长沙','沈阳','青岛','郑州','大连','宁波','厦门','福州','无锡','合肥','昆明','哈尔滨','济南','佛山','长春','温州','石家庄','南宁','常州','泉州','南昌','贵阳','太原','烟台','嘉兴','金华','珠海','惠州','绍兴','中山','台州','兰州'];
                        this.json.city = ["北京","天津","上海","重庆",'成都','杭州','武汉','南京','天津','苏州','西安','长沙','沈阳','青岛','郑州','大连','宁波','厦门','福州','无锡','合肥','昆明','哈尔滨','济南','佛山','长春','温州','石家庄','南宁','常州','泉州','南昌','贵阳','太原','烟台','嘉兴','金华','珠海','惠州','绍兴','中山','台州','兰州']
                        if (city === '北京') {
                            this.json.area = ["东城区","西城区","崇文区","宣武区","朝阳区","海淀区","丰台区","石景山区","房山区","通州区","顺义区","昌平区","大兴区","怀柔区","平谷区","门头沟区","密云县","延庆县"]
                        } else if (city === '广州') {
                            this.json.area = ['越秀区','海珠区','荔湾区','天河区','白云区','黄埔区','花都区','番禺区','南沙区','增城区','从化区']
                        }else if (city === '天津') {
                            this.json.area = ["和平区","河东区","河西区","南开区","河北区","红桥区","东丽区","西青区","北辰区","津南区","武清区","宝坻区","滨海新区","静海县","宁河县","蓟县"]
                        }else if (city === '上海') {
                            this.json.area = ["黄浦区","卢湾区","徐汇区","长宁区","静安区","普陀区","闸北区","虹口区","杨浦区","闵行区","宝山区","嘉定区","浦东新区","金山区","松江区","青浦区","奉贤区","崇明县"]
                        }else if (city === '重庆') {
                            this.json.area = ["渝中区","大渡口区","江北区","南岸区","北碚区","渝北区","巴南区","长寿区","双桥区","沙坪坝区","万盛区","万州区","涪陵区","黔江区","永川区","合川区","江津区","九龙坡区"]
                        }else if (city === '深圳') {
                            this.json.area = ['南山区','福田区','罗湖区','盐田区','龙岗区','宝安区','龙华区','坪山区']
                        }else if (city === '成都') {
                            this.json.area = ['青羊区','锦江区','金牛区','成华区','武候区','青白江区','龙泉驿区','新都区','温江区']
                        }else if (city === '青岛') {
                            this.json.area = ['市南区','市北区','黄岛区','崂山区','李沧区','城阳区','即墨区']
                        }else if (city === '武汉') {
                            this.json.area = ['江岸区','江汉区','硚口区','汉阳区','武昌区','洪山区','青山区','东西湖区','汉南区','蔡甸区','黄陂区','新洲区','江夏区','鄂城区','梁子湖区','华容区','黄州区']
                        }else if (city === '兰州') {
                            this.json.area = ['城关区','七里河区','西固区','安宁区','红古区','榆中区','兰州新区']
                        }else if (city === '南京') {
                            this.json.area = ['鼓楼区','玄武区','白下区','秦淮区','下关区','雨花台区','浦口区','建邺区','栖霞区']
                        }else if (city === '苏州') {
                            this.json.area = ['姑苏区','虎丘区','吴中区','相城区','吴江区']
                        }else if (city === '杭州') {
                            this.json.area = ['西湖区','上城区','下城区','江干区','拱墅区','滨江区','富阳区','萧山区','余杭区']
                        }else if (city === '宁波') {
                            this.json.area = ['海曙区','江北区','北仑区','镇海区','鄞州区','奉化区']
                        }else if (city === '大连') {
                            this.json.area = ['中山区','西岗区','沙河口区','甘井子区','旅顺口区','金州区']
                        }else if (city === '西安') {
                            this.json.area = ['新城区','碑林区','莲湖区','雁塔区','灞桥区','未央区','阎良区','临潼区','长安区']
                        }else if (city === '郑州') {
                            this.json.area = ['中原区','二七区','管城区','金水区','上街区','惠济区']
                        }else if (city === '长沙') {
                            this.json.area = ['芙蓉区','天心区','岳麓区','开福区','雨花区','望城区']
                        }else if (city === '沈阳') {
                            this.json.area = ['和平区','沈河区','皇姑区','大东区','铁西区','浑南区','于洪区','沈北新区','苏家屯区','辽中区']
                        }else if (city === '厦门') {
                            this.json.area = ['思明区','湖里区','集美区','海沧区','同安区','翔安区']
                        }else if (city === '无锡') {
                            this.json.area = ['梁溪区','锡山区','惠山区','滨湖区','新吴区']
                        }else if (city === '合肥') {
                            this.json.area = ['蜀山区','包河区','庐阳区','瑶海区','政务区','高新区','滨湖新区','新站区']
                        }else if (city === '昆明') {
                            this.json.area = ['盘龙区','五华区','西山区','官渡区','呈贡区','晋宁县','富民县','嵩明县','宜良县','安宁','东川区']
                        }else if (city === '哈尔滨') {
                            this.json.area = ['道里区','南岗区','道外区','平房区','松北区','香坊区','呼兰区','阿城区','双城区']
                        }else if (city === '济南') {
                            this.json.area = ['市中区','历下区','天桥区','槐荫区','历城区','长清区','章丘区','济阳区','莱芜区','钢城区']
                        }else if (city === '佛山') {
                            this.json.area = ['禅城区','南海区','顺德区','高明区','三水区']
                        }else if (city === '长春') {
                            this.json.area = ['南关区','朝阳区','宽城区','二道区','绿园区','双阳区','九台区']
                        }else if (city === '石家庄') {
                            this.json.area = ['新华区','桥西区','长安区','裕华区','矿区','藁城区','鹿泉区','栾城区']
                        }else if (city === '温州') {
                            this.json.area = ['鹿城区','龙湾区','瓯海区','洞头区']
                        }else if (city === '南宁') {
                            this.json.area = ['青秀区','兴宁区','江南区','良庆区','邕宁区','西乡塘区','武鸣区']
                        }else if (city === '泉州') {
                            this.json.area = ['鲤城区','丰泽区','洛江','泉港区']
                        }else if (city === '太原') {
                            this.json.area = ['小店区','迎泽区','杏花岭区','尖草坪区','万柏林区','晋源区']
                        }else if (city === '常州') {
                            this.json.area = ['钟楼区','天宁区','戚墅堰区','武进区']
                        }else if (city === '南昌') {
                            this.json.area = ['东湖区','西湖区','青云谱区','湾里区','青山湖区','新建区']
                        }else if (city === '贵阳') {
                            this.json.area = ['南明区','云岩区','花溪区','乌当区','白云区','观山湖区']
                        }else if (city === '烟台') {
                            this.json.area = ['芝罘区','莱山区','福山区','牟平区']
                        }else if (city === '中山') {
                            this.json.area = ['石岐街道','东区街道','西区街道','南区街道','五桂山街道','黄圃镇','南头镇','东凤镇','阜沙镇','小榄镇','东升镇','古镇镇','横栏镇','三角镇','民众镇','南朗镇','港口镇','大涌镇','沙溪镇','三乡镇','板芙镇','神湾镇','坦洲镇']
                        }else if (city === '珠海') {
                            this.json.area = ['香州区','金湾区','斗门区']
                        }else if (city === '惠州') {
                            this.json.area = ['惠城区','惠阳区','惠东县','博罗县']
                        }else if (city === '绍兴') {
                            this.json.area = ['越城区','绍兴县','诸暨市','嵊州市','上虞市','新昌县']
                        }else if (city === '嘉兴') {
                            this.json.area = ['南湖区','秀洲区']
                        }else if (city === '南通') {
                            this.json.area = ['崇川区','港闸区','通州区','海安市','如东县','启东市','如皋市','海门市']
                        }else if (city === '金华') {
                            this.json.area = ['婺城区','金东区','兰溪市','义乌市','东阳市','永康市']
                        }else if (city === '台州') {
                            this.json.area = ['椒江区','黄岩区','路桥区']
                        }
                    } else if (country === '加拿大') {
                        var cityListjia = ['加拿大'];
                        this.json.city = ['加拿大']
                        if (city === '加拿大'){
                          console.log(this.json.city)
                        this.json.area = ['多伦多', '渥太华','温哥华','蒙特利尔','卡尔加里','埃德蒙顿','温尼伯','魁北克市','哈密尔顿','维多利亚','哈利法斯']
                        console.log(this.json.area)
                      }
                    }
                    return this.json;
                }
            },
            data() {
                return {
                    json: {
                        country: [
                            '中国', '加拿大'
                        ],
                        city: ['北京'],
                        area: ['丰台', '朝阳']
                    },
                    form: {
                        name: '',
                        tel: '',
                        space: '',
                        country: '中国',
                        city: '北京',
                        area: '丰台',
                    }
                }
            },
            methods: {
                submitForm() {
                    var tel = this.form.tel;
                    if (telReg(tel)) {
                        var form = this.form;
                        var model = api.require("model");
                        model.config({
                            appKey: 'B4BE1D4A-18F6-42D1-48CF-DF6C6EA9983E',
                        })
                        model.insert({
                            class: "era_pub_msg",
                            value: {
                                name: this.form.name,
                                tel: this.form.tel,
                                space: this.form.space,
                                country: this.form.country,
                                city: this.form.city,
                                area: this.form.area
                            }
                        }, function(ret, err) {
                            if (err) {
                                swal("Oops", "发布遇到问题", "error")
                            } else if (ret) {
                              alert(JSON.stringify(ret))
                                swal("成功", "发布成功请等待审核", "success")
                            }
                        });
                        this.form = {}
                        return;
                    } else {
                        this.form.tel = '';
                        swal("错误", "手机号输入有误", "error")
                    }

                }
            }
        })
    </script>
</body>

</html>
